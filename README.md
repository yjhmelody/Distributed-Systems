# Distributed-Systems

## lab1

### Part I: Map/Reduce input and output

The code we give you is missing two crucial pieces: the function that divides up the output of a map task, and the function that gathers all the inputs for a reduce task. These tasks are carried out by the doMap() function in common_map.go, and the doReduce() function in common_reduce.go respectively.

#### lint

```sh
$ go test -run Sequential
```

If the output did not show ok next to the tests, your implementation has a bug in it. To give more verbose output, set `debugEnabled = true` in `common.go`, and add `-v` to the test command above. You will get much more output along the lines of:

```sh
$ go test -v -run Sequential
```

### Part II: Single-worker word count

Now you will implement word count â€” a simple Map/Reduce example. Look in main/wc.go; you'll find empty mapF() and reduceF() functions. Your job is to insert code so that wc.go reports the number of occurrences of each word in its input. A word is any contiguous sequence of letters, as determined by unicode.IsLetter.

Your mapF() will be passed the name of a file, as well as that file's contents; it should split the contents into words, and return a Go slice of mapreduce.KeyValue. While you can choose what to put in the keys and values for the mapF output, for word count it only makes sense to use words as the keys. Your reduceF() will be called once for each key, with a slice of all the values generated by mapF() for that key. It must return a string containing the total number of occurences of the key.

#### lint

```sh
$ export "GOPATH=$PWD"
$ cd "$GOPATH/src/main"
$ go run wc.go master sequential pg-*.txt
```

You can test your solution using:
```sh
$ time go run wc.go master sequential pg-*.txt
```

The output will be in the file "mrtmp.wcseq". Your implementation is correct if the following command produces the output shown here:

```sh
$ sort -n -k2 mrtmp.wcseq | tail -10
that: 7871
it: 7987
in: 8415
was: 8578
a: 13382
of: 13536
I: 14296
to: 16079
and: 23612
the: 29748
```

You can remove the output file and all intermediate files with:
```sh
$ rm mrtmp.*
```

To make testing easy for you, run:
```
$ bash ./test-wc.sh
```